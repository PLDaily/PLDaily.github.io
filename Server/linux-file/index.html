
<!DOCTYPE html>
<html lang="en">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="PLDaily">
    <title>Linux 文件系统 - PLDaily</title>
    <meta name="author" content="PLDaily">
    
        <meta name="keywords" content="Linux">
    
    
        <link rel="icon" href="http://yoursite.com/assets/images/avatar.ico">
    
    
    <meta name="description" content="Linux 下文件系统的一下操作记录">
<meta name="keywords" content="Linux">
<meta property="og:type" content="blog">
<meta property="og:title" content="Linux 文件系统">
<meta property="og:url" content="http://yoursite.com/Server/linux-file/index.html">
<meta property="og:site_name" content="PLDaily">
<meta property="og:description" content="Linux 下文件系统的一下操作记录">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-03-01T06:40:53.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux 文件系统">
<meta name="twitter:description" content="Linux 下文件系统的一下操作记录">
    
    
        
    
    
        <meta property="og:image" content="http://yoursite.com/assets/images/avatar.jpg"/>
    
    
    
    
    <!--STYLES-->
    <link rel="stylesheet" href="/assets/css/style-pz4cc6y13wt2trzqa8l3n9v0yykr0sstdaheem7qj628nhjmhp9pfawvqawz.min.css">
    <!--STYLES END-->
    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="3">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a class="header-title-link" href="/ ">PLDaily</a>
    </div>
    
        
            <a  class="header-right-picture "
                href="#about">
        
        
            <img class="header-picture" src="/assets/images/avatar.jpg" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="3">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a href="/#about">
                    <img class="sidebar-profile-picture" src="/assets/images/avatar.jpg" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">PLDaily</h4>
                
                    <h5 class="sidebar-profile-bio"><p>yesterday you said tomorrow</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/ "
                            
                            title="Home"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-categories"
                            
                            title="Categories"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-tags"
                            
                            title="Tags"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link "
                             href="/all-archives"
                            
                            title="Archives"
                        >
                    
                        <i class="sidebar-button-icon fa fa-lg fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a  class="sidebar-button-link " href="https://github.com/pldaily" target="_blank" rel="noopener" title="GitHub">
                    
                        <i class="sidebar-button-icon fa fa-lg fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="3"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post" itemscope itemType="http://schema.org/BlogPosting">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title" itemprop="headline">
            Linux 文件系统
        </h1>
    
    
        <div class="post-meta">
    <time itemprop="datePublished" datetime="2017-07-30T17:08:24+08:00">
	
		    Jul 30, 2017
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/Server/">Server</a>


    
</div>

    
</div>
    
    <div class="post-content markdown" itemprop="articleBody">
        <div class="main-content-wrap">
            <p>Linux 下文件系统的一下操作记录<br><a id="more"></a></p>
<h3 id="显示当前目录下的文件和目录"><a href="#显示当前目录下的文件和目录" class="headerlink" title="显示当前目录下的文件和目录"></a>显示当前目录下的文件和目录</h3><ul>
<li>ls 显示当前目录下的文件和目录</li>
<li>ls -F 显示当前目录下的文件和目录，如是目录则加’/‘</li>
<li>ls -F -R 显示当前目录下的文件和目录，它会列出当前目录下包含目录的文件</li>
<li>ls -l 显示当前目录下的文件和目录，包含更多关于当前目录和文件的信息（权限，用户，用户组等）</li>
<li>ls -l index* 显示当前目录下的文件和目录，通过正则去匹配</li>
</ul>
<h3 id="处理文件"><a href="#处理文件" class="headerlink" title="处理文件"></a>处理文件</h3><ul>
<li>touch test 创建一个空文件</li>
<li>cp test1 test2 复制一个test1重命名为test2</li>
<li>cp ../file/test1 . 复制上级目录file目录下的test1到当前目录</li>
<li>cp -p test1 test2 复制的文件保留源文件的访问时间和修改时间</li>
<li>cp -R dir1 dir2 复制整个目录</li>
<li>cp -f ../file/a* . 正则匹配复制</li>
<li>cp -l test1 test4 创建一个指向文件test1的硬链接test4</li>
<li>cp -s test1 test5 创建一个指向文件test1的软链接test5<br>硬链接包含了源文件的信息及位置，软链接只存储源文件的信息，不需要存储源文件中的数据，文件变小。<br>当对源文件进行修改时，链接文件会进行相应的修改，而复制生成的文件则不会。<br>删除源文件时软连接失效，硬链接不受影响。删除软连接对源文件和硬链接无影响。删除硬连接对源文件和硬链接无影响。<a href="https://www.kancloud.cn/curder/linux/71980" target="_blank" rel="noopener">参考</a><br>目录文件只能使用软连接</li>
<li>mv test1 test2 修改test1文件名为test2</li>
<li>rm test1 删除test1文件</li>
</ul>
<h3 id="处理目录"><a href="#处理目录" class="headerlink" title="处理目录"></a>处理目录</h3><ul>
<li>mkdir dir 新建一个目录dir</li>
<li>rmdir dir 删除目录dir</li>
<li>rm -r dir 目录中有文件时加-r递归删除目录中的文件再删除目录自身，需要用户确认删除</li>
<li>rm -rf dir 目录中有文件时加-r递归删除目录中的文件再删除目录自身，不需要用户确认删除</li>
</ul>
<h3 id="查看文件信息"><a href="#查看文件信息" class="headerlink" title="查看文件信息"></a>查看文件信息</h3><ul>
<li>stat test1 查看文件的所有状态信息</li>
<li>file test1 查看文件类型</li>
<li>cat test1 查看整个文件</li>
<li>cat -n test1 查看整个文件，显示列数</li>
</ul>
<h3 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h3><ul>
<li>cat /etc/passwd 查看用户信息</li>
<li>useradd -m test 创建test用户并创建用户的home目录</li>
<li>/usr/sbin/userdel -r test 删除用户</li>
<li>passwd test 修改test用户密码</li>
<li>usermod -G shared test 用户组shared添加test    </li>
</ul>
<h3 id="用户组"><a href="#用户组" class="headerlink" title="用户组"></a>用户组</h3><ul>
<li>groups 当前用户所属用户组</li>
<li>groups pcd 用户pcd所属的用户组</li>
<li>cat /etc/group 查看用户组</li>
<li>groupadd shared 增加用户组</li>
<li>usermod -G shared test 用户组shared添加test    </li>
<li>groupmod -n sharing shared 用户组shared改为sharing</li>
</ul>
<h3 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h3><p>以pcd下一个文件-rw-rw-r–为例</p>
<h4 id="第一个字符代表对象类型"><a href="#第一个字符代表对象类型" class="headerlink" title="第一个字符代表对象类型"></a>第一个字符代表对象类型</h4><ul>
<li>-: 文件</li>
<li>d: 目录</li>
<li>l: 链接</li>
<li>c: 字符设备</li>
<li>b: 块设备</li>
<li>n: 网络设备<h4 id="后三组三字符码"><a href="#后三组三字符码" class="headerlink" title="后三组三字符码"></a>后三组三字符码</h4></li>
<li>r: 可读</li>
<li>w: 可写</li>
<li>x: 可执行</li>
<li>第2到第4个字符rw-为文件属主权限（pcd）</li>
<li>第5到第7个字符rw-为属组成员的权限</li>
<li>第8到第10个字符r–为其他用户权限</li>
</ul>
<h3 id="改变权限"><a href="#改变权限" class="headerlink" title="改变权限"></a>改变权限</h3><ul>
<li>chmod 777 aaa.txt 八进制表示，即rwxrwxrwx</li>
<li>chmod o+w aaa.txt<h4 id="参数一"><a href="#参数一" class="headerlink" title="参数一:"></a>参数一:</h4></li>
<li>u: 代表用户</li>
<li>g: 代表组</li>
<li>o: 代表其他</li>
<li>a: 代表上述所有<h4 id="参数二："><a href="#参数二：" class="headerlink" title="参数二："></a>参数二：</h4></li>
<li>+: 增加权限</li>
<li>-: 减少权限<h4 id="参数三："><a href="#参数三：" class="headerlink" title="参数三："></a>参数三：</h4></li>
<li><p>rwx: 增加或减少的权限</p>
</li>
<li><p>chown test aaa.txt 修改aaa.txt文件属主为test</p>
</li>
<li>chown test.sharing aaa.txt 修改aaa.txt文件属主为sharing用户组下的test</li>
</ul>
<p>简单实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">pcd属主下新建一个-rw-r--r--的文件test.txt.</span><br><span class="line">su root</span><br><span class="line">chown test test.txt</span><br><span class="line">su pcd</span><br><span class="line">pcd对test.txt没有写入权限</span><br></pre></td></tr></table></figure></p>
<h2 id="vim编辑器"><a href="#vim编辑器" class="headerlink" title="vim编辑器"></a>vim编辑器</h2><ul>
<li>vim aaa.txt进入vim编辑器</li>
<li>G 移动缓冲区最后一行</li>
<li>gg 移动缓冲区第一行</li>
<li>num G 移动缓冲区第num行</li>
<li>:q 未修改缓冲区退出</li>
<li>:q! 取消缓冲区多有修改退出</li>
<li>:w filename 将文件保存到另一个文件名下</li>
<li>:wq 保存缓冲区到文件并退出</li>
<li>x 删除当前光标所在位置的字符</li>
<li>dd 删除当前光标所在的行</li>
<li>dw 删除当前光标所在位置的单词</li>
<li>d$ 删除当前光标所在位置至行尾的内容</li>
<li>u 撤销前一次编辑命令</li>
<li>a 在当前光标后追加数据</li>
<li>A 在当前光标所在行行尾追加数据</li>
<li>y$ 复制当前光标到行尾的内容</li>
<li>p 粘贴（可以为y$与dd的内容）</li>
</ul>

            

        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/Front-end/better-code/" data-tooltip="前端代码规范" aria-label="PREVIOUS: 前端代码规范">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/Front-end/singleton-mode/" data-tooltip="单例模式" aria-label="NEXT: 单例模式">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2018 PLDaily. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="3">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/Front-end/better-code/" data-tooltip="前端代码规范" aria-label="PREVIOUS: 前端代码规范">
                
                    <i class="fa fa-angle-left" aria-hidden="true"></i>
                    <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                </a>
            </li>
            <li class="post-action">
                
                    
                    <a class="post-action-btn btn btn--default tooltip--top" href="/Front-end/singleton-mode/" data-tooltip="单例模式" aria-label="NEXT: 单例模式">
                
                    <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                    <i class="fa fa-angle-right" aria-hidden="true"></i>
                </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions" aria-label="Share this post">
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                <div id="share-options-bar" class="share-options-bar" data-behavior="3">
    <i id="btn-close-shareoptions" class="fa fa-close"></i>
    <ul class="share-options">
        
    </ul>
</div>

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-remove"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/avatar.jpg" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">PLDaily</h4>
        
            <div id="about-card-bio"><p>yesterday you said tomorrow</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>developer</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker"></i>
                <br/>
                Hangzhou
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/bg.jpg');"></div>
        <!--SCRIPTS-->
<script src="/assets/js/script-peofhqjkzcghmndknakluequy1y6owxdwpaqyju9ntl9zxnk7rdolb3rjjoj.min.js"></script>
<!--SCRIPTS END-->

    



    </body>
</html>
